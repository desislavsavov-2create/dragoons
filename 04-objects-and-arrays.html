<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	
	<title>Objects and Arrays</title>

	<script>

		// Arrays Assignments

		(function() {
			'use strict';

			function reverseArray( array ) {
				var result = [];
				var i;

				for ( i = array.length - 1; i >= 0; i-- ) {
					result.push(array[i]);
				}

				array = result;

				return array;
			}

			// console.log( reverseArray( [1, 5, 3, 4] ) );
		})();

		(function() {
			'use strict';

			function splitArray( array ) {
				var oddsArray = [];
				var evensArray = [];
				var i;

				for ( i = 0; i < array.length; i++ ) {
					if ( i % 2 === 0 ) {
						oddsArray.push(array[i]);
					} else {
						evensArray.push(array[i]);
					}
				}

				return [oddsArray, evensArray];
			}

			// console.table( splitArray( ['lorem', 'ipsum', '1', 2, 'dolor', 'javascript'] ) );
		})();

		(function() {
			'use strict';

			function reverseArray2( array ) {
				var arrayLength = array.length;
				var temp;
				var i;

				for ( i = 0; i < arrayLength / 2; i++ ) {
					temp = array[i];
					array[i] = array[arrayLength - i - 1];
					array[arrayLength - i - 1] = temp;
				}

				return array;
			}

			// console.log( reverseArray2( [1, 2, 3, 4] ) );
		})();

		(function() {
			'use strict';

			function removeDuplicates( array ) {
				var uniques = [];
				var i;

				for ( i = 0; i < array.length; i++ ) {
					if ( uniques.indexOf(array[i]) === -1 ) {
						uniques.push( array[i] );
					}
				}

				return uniques;
			}

			// console.log( removeDuplicates( ['lorem', 'dolor', 'ipsum', 'dolor', 'sit', 'amet', 'lorem', 'amet'] ) )
		})();

		(function() {
			'use strict';

			var cards = [];
			var size = 52;
			var i;

			for ( i = 0; i < size; i++ ) {
				cards[i] = i;
			}

			function shuffle(cards) {
				var temp;
				var randomIndex;

				for ( i = 0; i < cards.length; i++ ) {
					randomIndex = Math.floor( Math.random() * ( cards.length - i ) );
					temp = cards[i];
					cards[i] = cards[randomIndex];
					cards[randomIndex] = temp;
				}
			}
			 
			shuffle(cards);
			// console.log(cards);
		})();

		(function() {
			'use strict';

			var matrix = [
				[0, 0, 0, 0, 0],
				[0, 0, 0, 0, 0],
				[0, 0, 0, 0, 0],
				[0, 0, 0, 0, 0],
				[0, 0, 0, 0, 0]
			];

			function replaceBelowDiagonal( matrix ) {
				var i;
				var j;

				for ( i = matrix.length - 1; i >= 0; i-- ) {
					for ( j = 0; j < i + 1; j++ ) {
						matrix[i][j] = 1;
					}
				}
			}

			replaceBelowDiagonal( matrix );

			// console.table( matrix);
		})();

		(function() {
			'use strict';

			var matrix = [
				[0, 0, 0, 0, 0],
				[0, 0, 0, 0, 0],
				[0, 0, 0, 0, 0],
				[0, 0, 0, 0, 0],
				[0, 0, 0, 0, 0]
			];

			function replaceAtDiagonal( matrix ) {
				var i;

				for ( i = 0; i < matrix.length; i++ ) {
					matrix[i][i] = 1;
				}
			}

			replaceAtDiagonal( matrix );

			// console.table( matrix );
		})();

		(function() {
			'use strict';

			var matrix = [
				[0, 0, 0, 0, 0],
				[0, 0, 0, 0, 0],
				[0, 0, 0, 0, 0]
			];

			function matrixPyramide( matrix ) {
				var middle = Math.floor( matrix[0].length / 2 );
				var i;
				var j;

				for ( i = 0; i < matrix.length; i++ ) {
					for ( j = middle - i; j <= middle + i; j++ ){
						matrix[i][j] = 1;
					}
				}
			}

			matrixPyramide( matrix );

			// console.table( matrix );
		})();

		(function() {
			'use strict';

			var sampleArray = [4, 5, 3, 7, 1, 8, 2, 10, 6];

			function sortWithoutSort( array ) {
				var arrayLength = array.length;

				if ( arrayLength < 2 ) {
					return array;
				}

				var pivot = array[0];
				var left = [];
				var right = [];
				var i;

				for ( i = 1; i < arrayLength; i++ ) {
					if ( pivot < array[i] ) {
						right.push( array[i] );
					} else {
						left.push( array[i] );
					}
				}

				left = sortWithoutSort( left );
				right = sortWithoutSort( right );

				return [].concat(
					left,
					pivot,
					right
				);
			}

			sampleArray = sortWithoutSort( sampleArray );

			// console.log(sampleArray);
		})();

		(function() {
			'use strict';

			var sampleArray1 = [1, 2, 3, 4, 2, 3];
			var sampleArray2 = [4, 5, 6, 7];

			function combineArrays( array1, array2 ) {
				var result = [];
				var i, j;

				for ( i = 0; i < arguments.length; i++ ) {
					for ( j = 0; j < arguments[i].length; j++ ) {
						if ( result.indexOf( arguments[i][j] ) === -1 ) {
							result.push( arguments[i][j] );
						}
					}
				}

				return result;
			}

			// console.log( combineArrays( sampleArray1, sampleArray2 ) );
		})();

		(function() {
			'use strict';

			var arr1 = ['green', 'red', 'blue'];
			var arr2 = ['green', 'yellow', 'red'];

			function arrayIntersect() {
				// var result = [];
				// var longer, smaller, i, j;

				// if ( arr1.length >= arr2.length ) {
				// 	longer = arr1;
				// 	smaller = arr2;
				// } else {
				// 	longer = arr2;
				// 	smaller = arr1;
				// }

				// for ( i = 0; i < longer.length; i++ ) {
				// 	for ( j = 0; j < smaller.length; j++ ) {
				// 		if ( longer.indexOf(smaller[j]) !== -1 && result.indexOf(smaller[j]) === -1 ) {
				// 			result.push(smaller[j]);
				// 		}
				// 	}
				// }

				// return result;

				var merged = [];
				var result = [];
				var i, j, missingFromArgs;

				for ( i = 0; i < arguments.length; i++ ) {
					merged = merged.concat(arguments[i]);
				}

				for ( i = 0; i < merged.length; i++ ) {
					missingFromArgs = false;
					for ( j = 0; j < arguments.length; j++ ) {
						if (arguments[j].indexOf(merged[i]) === -1) {
							missingFromArgs = true;
							break;
						}
					}
					if (!missingFromArgs && result.indexOf(merged[i]) === -1) {
						result.push(merged[i]);
					}
				}

				return result;
			}

			var res = arrayIntersect(arr1, arr2);

			// console.log(res);
		})();

		(function() {
			'use strict';

			function arrayDiff( arr1, arr2, arr3 ) {

			}
		})();

		// Objects

		(function() {
			'use strict';

			var eventSchedule = [
				{
					title: "Registration",
					start: "08:30 AM"
				},
				{
					title: "Break",
					start: "11:00 AM"
				},
				{
					title: "WordPress for dummies",
					start: "10:30 AM"
				},
				{
					title: "Custom Post Types",
					start: "11:15 AM"
				},
				{
					title: "WooCommerce",
					start: "02:00 PM"
				},
				{
					title: "Lunch",
					start: "12:30 PM"
				},

				{
					title: "Break",
					start: "15:00 PM"
				}
			];

			function sortObjects( arr ) {
				function parseEventTime( eventTime ) {
					var date = new Date();
					var startTimePieces = eventTime.split(' ');
					var startTime = startTimePieces[0];
					var startTimeAmPm = startTimePieces[1];

					startTime = startTime.split(':');

					var startHour = parseInt( startTime[0], 10 );
					var startMinutes = parseInt( startTime[1], 10 );

					if ( startTimeAmPm.toLowerCase() === 'pm' && startHour < 12 ) {
						startHour += 12;
					}

					date.setHours( startHour );
					date.setMinutes( startMinutes );

					return date.getTime();
				}

				arr.sort(function(a, b) {
					var event1Date = parseEventTime( a.start );
					var event2Date = parseEventTime( b.start );

					if ( event1Date > event2Date ) {
						return 1;
					} else if ( event1Date < event2Date ) {
						return -1;
					} else {
						return 0;
					}
				});

				return arr;
			}

			sortObjects( eventSchedule );

			// console.table( eventSchedule );
		})();

		(function() {
			'use strict';

			var cache = {
				data: {},
				read: function( key ) {
					if ( typeof cache.data[key] === 'undefined' ) {
						return null;
					} else {
						return cache.data[key];
					}
				},
				write: function( key, value ) {
					cache.data[key] = value;
				},
				remove: function( key ) {
					delete cache.data[key];
				}
			};

			var data = 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod laborum.';

			// console.log(null === cache.read("home-html"));

			cache.write("home-html", data);
			// console.log(data === cache.read("home-html"));

			cache.remove("home-html");
			// console.log(null === cache.read("home-html"));

			// console.log(null === cache.read("write"));

			cache.write("write", data);
			// console.log(data === cache.read("write"));
		})();
	</script>
</head>

<body></body>
</html>